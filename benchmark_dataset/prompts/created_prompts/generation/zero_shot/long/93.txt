Your task is to implement a C function based on a summary.

**[Target]**
**Use the summary below to generate the related C function**
Return the full function code, including function signature and function implementation
Do NOT add comments to the code and provide only the code as output

**Summary:**
"Configures a CAN message router by iterating through an array of routing entries, adding a receive filter to a source CAN interface for each entry that uses a callback to forward matching frames to a destination interface, and returns an error if any filter registration fails"

**Code:**
int can_router_register(const struct can_router_entry_t *entries, int entry_count) {